{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "type": "object",
    "title": "Network connections",
    "configFile": {
        "path": "/etc/wb-connection-manager.conf",
        "toJSON": "wb-nm-helper",
        "fromJSON": ["wb-nm-helper", "-s"],
        "restartDelayMS": 4000,
        "service": "wb-connection-manager",
        "needReload": true,
        "editor": "network-connections"
    },
    "definitions": {
        "switch_connections": {
            "title": "connection_title",
            "type": "string",
            "minLength": 1,
            "watch": {
                "connections": "ui.connections"
            },
            "enumSource": [
                {
                    "source": "connections",
                    "filter": "{{if item.type in [\"01_nm_ethernet\",\"02_nm_modem\",\"03_nm_wifi\"]}}1{{endif}}{{endif}}",
                    "title": "{{item.connection_id}}",
                    "value": "{{item.connection_id}}"
                }
            ],
            "_format": "edWb"
        },
        "mac-addr": {
            "type": "string",
            "title": "MAC address",
            "pattern": "^(?:[0-9A-Fa-f]{2}:){5}[0-9A-Fa-f]{2}$",
            "options": {
                "show_opt_in": true,
                "patternmessage": "mac-pattern-message",
                "inputAttributes": {
                    "placeholder":  "XX:XX:XX:XX:XX:XX"
                }
            }
        },
        "mtu": {
            "type": "integer",
            "title": "MTU",
            "default": 1500,
            "options": {
                "inputAttributes": {
                    "placeholder":  " "
                },
                "show_opt_in": true
            }
        },
        "802-11-wireless-security": {
            "title": "Security",
            "oneOf": [
                {
                    "type": "object",
                    "title": "None",
                    "properties": {
                        "security": {
                            "type": "string",
                            "enum": ["none"],
                            "options": {
                                "hidden" : true
                            }
                        }
                    },
                    "required": ["security"]
                },
                {
                    "type": "object",
                    "title": "WPA/WPA2 Personal",
                    "properties": {
                        "security": {
                            "type": "string",
                            "enum": ["wpa-psk"],
                            "options": {
                                "hidden": true
                            }
                        },
                        "key-mgmt": {
                            "type": "string",
                            "enum": ["wpa-psk"],
                            "options": {
                                "hidden": true
                            }
                        },
                        "psk": {
                            "type": "string",
                            "title": "Password",
                            "minLength": 8,
                            "maxLength": 63,
                            "propertyOrder": 2
                        }
                    },
                    "required": ["security", "key-mgmt", "psk"]
                }
            ],
            "options": {
                "keep_oneof_values": false,
                "wb": {
                    "disable_title": true
                }
            }
        },
        "iface_common": {
            "type": "object",
            "properties": {
                "auto": {
                    "type": "boolean",
                    "default": true,
                    "title": "Auto",
                    "_format": "checkbox",
                    "propertyOrder": 2
                },
                "name": {
                    "type": "string",
                    "title": "Name",
                    "minLength": 1,
                    "propertyOrder": 1
                },
                "allow-hotplug": {
                    "type": "boolean",
                    "default": true,
                    "title": "Allow hotplug",
                    "_format": "checkbox",
                    "propertyOrder": 3
                },
                "options": {
                    "type": "object",
                    "title": "Options",
                    "properties": {
                        "pre-up": {
                            "title": "Pre-up commands",
                            "type": "array",
                            "_format": "table",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            }
                        },
                        "up": {
                            "title": "Up commands",
                            "type": "array",
                            "_format": "table",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            }
                        },
                        "post-up": {
                            "title": "Post-up commands",
                            "description": "Same as 'Up commands'",
                            "type": "array",
                            "_format": "table",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            }
                        },
                        "pre-down": {
                            "title": "Pre-down commands",
                            "description": "Same as 'Down commands'",
                            "type": "array",
                            "_format": "table",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            }
                        },
                        "down": {
                            "title": "Down commands",
                            "type": "array",
                            "_format": "table",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            }
                        },
                        "post-down": {
                            "title": "Post-down commands",
                            "type": "array",
                            "_format": "table",
                            "items": {
                                "type": "string",
                                "minLength": 1
                            }
                        }
                    }
                }
            },
            "options": {
                "wb": {
                    "disable_panel": true
                }
            }
        },
        "old_loopback": {
            "title": "Loopback interface",
            "description": "interfaces_description",
            "allOf": [
                { "$ref": "#/definitions/iface_common" },
                {
                    "type": "object",
                    "properties": {
                        "mode": {
                            "type": "string",
                            "title": "Mode",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["inet"]
                        },
                        "method": {
                            "type": "string",
                            "title": "Method",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["loopback"]
                        },
                        "type": {
                            "type": "string",
                            "title": "Type",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["loopback"]
                        },
                        "options": {
                            "type": "object",
                            "title": "Options",
                            "options": {
                                "hidden": true
                            }
                        }
                    },
                    "defaultProperties": [
                        "name",
                        "method",
                        "mode"
                    ],
                    "required": ["type", "method", "name", "mode"],
                    "options": {
                        "wb": {
                            "hide_from_selection": true,
                            "icon": "warning",
                            "color": "warning",
                            "info_block": {
                                "color": "warning",
                                "content": "loopback_deprecated_description"
                            }
                        }
                    }
                }
            ]
        },
        "old_static": {
            "title": "Static IP",
            "description": "interfaces_description",
            "allOf": [
                { "$ref": "#/definitions/iface_common" },
                {
                    "type": "object",
                    "properties": {
                        "mode": {
                            "type": "string",
                            "title": "Mode",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["inet"]
                        },
                        "method": {
                            "type": "string",
                            "title": "Method",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["static"]
                        },
                        "type": {
                            "type": "string",
                            "title": "Type",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["static"]
                        },
                        "options": {
                            "type": "object",
                            "title": "Options",
                            "properties": {
                                "address": {
                                    "type": "string",
                                    "title": "IP address",
                                    "format": "ipv4",
                                    "propertyOrder": 11
                                },
                                "netmask": {
                                    "type": "string",
                                    "title": "Network mask",
                                    "format": "ipv4",
                                    "propertyOrder": 12
                                },
                                "broadcast": {
                                    "type": "string",
                                    "title": "Broadcast address",
                                    "format": "ipv4",
                                    "propertyOrder": 13
                                },
                                "gateway": {
                                    "type": "string",
                                    "title": "Default gateway",
                                    "format": "ipv4",
                                    "propertyOrder": 14
                                },
                                "metric": {
                                    "type": "integer",
                                    "title": "Routing metric for default gateway",
                                    "propertyOrder": 15
                                },
                                "hwaddress": {
                                    "type": "string",
                                    "title": "MAC address",
                                    "pattern": "^(?:[0-9A-Fa-f]{2}:){5}[0-9A-Fa-f]{2}$",
                                    "propertyOrder": 16
                                },
                                "pointopoint": {
                                    "type": "string",
                                    "title": "Point-to-point address",
                                    "description": "For point-to-point configuration",
                                    "format": "ipv4",
                                    "propertyOrder": 17
                                },
                                "mtu": {
                                    "type": "string",
                                    "title": "MTU",
                                    "default": 1500,
                                    "propertyOrder": 18
                                },
                                "scope": {
                                    "type": "string",
                                    "title": "Address validity scope",
                                    "enum": [
                                        "global",
                                        "link",
                                        "host"
                                    ],
                                    "options": {
                                        "enum_titles": [
                                            "global",
                                            "link",
                                            "host"
                                        ]
                                    },
                                    "propertyOrder": 19
                                }
                            },
                            "required": ["address"],
                            "defaultProperties": [
                                "address",
                                "netmask",
                                "gateway",
                                "mtu"
                            ]
                        }
                    },
                    "defaultProperties": [
                        "name",
                        "auto",
                        "mode",
                        "method",
                        "options"
                    ],
                    "required": ["type", "method", "name", "mode"]
                }
            ],
            "options": {
                "wb": {
                    "hide_from_selection": true,
                    "icon": "warning",
                    "color": "warning",
                    "info_block": {
                        "color": "warning",
                        "content": "old_interface_deprecated_description"
                    }
                }
            }
        },
        "old_dhcp": {
            "title": "DHCP",
            "description": "interfaces_description",
            "allOf": [
                { "$ref": "#/definitions/iface_common" },
                {
                    "type": "object",
                    "properties": {
                        "mode": {
                            "type": "string",
                            "title": "Mode",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["inet"]
                        },
                        "method": {
                            "type": "string",
                            "title": "Method",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["dhcp"]
                        },
                        "type": {
                            "type": "string",
                            "title": "Type",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["dhcp"]
                        },
                        "options": {
                            "type": "object",
                            "title": "Options",
                            "properties": {
                                "hwaddress": {
                                    "type": "string",
                                    "title": "MAC address",
                                    "pattern": "^(?:[0-9A-Fa-f]{2}:){5}[0-9A-Fa-f]{2}$",
                                    "propertyOrder": 11
                                },
                                "hostname": {
                                    "type": "string",
                                    "title": "Hostname to be requested",
                                    "propertyOrder": 12
                                },
                                "client": {
                                    "type": "string",
                                    "title": "Client identifier",
                                    "propertyOrder": 13
                                }
                            },
                            "defaultProperties": "hostname"
                        }
                    },
                    "defaultProperties": [
                        "name",
                        "auto",
                        "mode",
                        "method",
                        "options"
                    ],
                    "required": ["type", "method", "name", "mode"]
                }
            ],
            "options": {
                "wb": {
                    "hide_from_selection": true,
                    "icon": "warning",
                    "color": "warning",
                    "info_block": {
                        "color": "warning",
                        "content": "old_interface_deprecated_description"
                    }
                }
            }
        },
        "old_can": {
            "title": "CAN",
            "description": "interfaces_description",
            "allOf": [
                { "$ref": "#/definitions/iface_common" },
                {
                    "type": "object",
                    "properties": {
                        "mode": {
                            "type": "string",
                            "title": "Mode",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["can"]
                        },
                        "method": {
                            "type": "string",
                            "title": "Method",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["static"]
                        },
                        "type": {
                            "type": "string",
                            "title": "Type",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["can"]
                        },
                        "options": {
                            "type": "object",
                            "title": "Options",
                            "properties": {
                                "bitrate": {
                                    "type": "integer",
                                    "title": "Bitrate",
                                    "propertyOrder": 11,
                                    "minimum": 1,
                                    "maximum": 1000000,
                                    "default": 125000
                                }
                            },
                            "required": ["bitrate"]
                        }
                    },
                    "defaultProperties": [
                        "name",
                        "allow-hotplug",
                        "mode",
                        "method",
                        "type",
                        "options"
                    ],
                    "required": ["type", "method", "name", "mode"],
                    "options": {
                        "wb": {
                            "icon": "old-settings"
                        }
                    }
                }
            ]
        },
        "old_ppp": {
            "title": "PPP",
            "description": "interfaces_description",
            "allOf": [
                { "$ref": "#/definitions/iface_common" },
                {
                    "type": "object",
                    "properties": {
                        "mode": {
                            "type": "string",
                            "title": "Mode",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["inet"]
                        },
                        "method": {
                            "type": "string",
                            "title": "Method",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["ppp"]
                        },
                        "type": {
                            "type": "string",
                            "title": "Type",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["ppp"]
                        },
                        "options": {
                            "type": "object",
                            "title": "Options",
                            "properties": {
                                "provider": {
                                    "type": "string",
                                    "title": "Provider name",
                                    "description": "Refers to the file in /etc/ppp/peers",
                                    "propertyOrder": 11
                                },
                                "unit": {
                                    "type": "string",
                                    "title": "PPP unit number",
                                    "propertyOrder": 12
                                },
                                "options": {
                                    "type": "string",
                                    "title": "Additional options",
                                    "propertyOrder": 13
                                }
                            },
                            "defaultProperties": [
                                "provider"
                            ]
                        }
                    },
                    "defaultProperties": [
                        "name",
                        "auto",
                        "mode",
                        "method",
                        "type",
                        "options"
                    ],
                    "required": ["type", "method", "name", "mode"]
                }
            ],
            "options": {
                "wb": {
                    "hide_from_selection": true,
                    "icon": "warning",
                    "color": "warning",
                    "info_block": {
                        "color": "warning",
                        "content": "old_interface_deprecated_description"
                    }
                }
            }
        },
        "old_manual": {
            "title": "Manual",
            "description": "interfaces_description",
            "allOf": [
                { "$ref": "#/definitions/iface_common" },
                {
                    "type": "object",
                    "properties": {
                        "mode": {
                            "type": "string",
                            "title": "Mode",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["inet"]
                        },
                        "method": {
                            "type": "string",
                            "title": "Method",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["manual"]
                        },
                        "type": {
                            "type": "string",
                            "title": "Type",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["manual"]
                        },
                        "options": {
                            "type": "object",
                            "title": "Options",
                            "properties": {
                                "hwaddress": {
                                    "type": "string",
                                    "title": "MAC address",
                                    "pattern": "^(?:[0-9A-Fa-f]{2}:){5}[0-9A-Fa-f]{2}$",
                                    "propertyOrder": 11
                                },
                                "mtu": {
                                    "type": "string",
                                    "title": "MTU",
                                    "propertyOrder": 12
                                }
                            },
                            "defaultProperties": ["mtu"]
                        }
                    },
                    "defaultProperties": [
                        "name",
                        "auto",
                        "mode",
                        "method"
                    ],
                    "required": ["type", "method", "name", "mode"],
                    "options": {
                        "wb": {
                            "hide_from_selection": true,
                            "icon": "old-settings"
                        }
                    }
                }
            ]
        },
        "nm_ethernet": {
            "title": "Ethernet",
            "allOf": [
                {
                    "type": "object",
                    "properties": {
                        "connection_interface-name": {
                            "type": "string",
                            "title": "Only for interface",
                            "propertyOrder": 3,
                            "options": {
                                "inputAttributes": {
                                    "placeholder":  "use with any suitable interface"
                                },
                                "wb": {
                                    "show_editor": true
                                }
                            },
                            "watch": {
                                "devices": "data.devices"
                            },
                            "enumSource": [
                                {
                                    "source": "devices",
                                    "filter": "{{if item.type == \"ethernet\"}}1{{endif}}",
                                    "title": "{{item.iface}}",
                                    "value": "{{item.iface}}"
                                }
                            ],
                            "_format": "edWb"
                        },
                        "type": {
                            "type": "string",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["01_nm_ethernet"]
                        },
                        "802-3-ethernet_mtu": {
                            "$ref": "#/definitions/mtu",
                            "propertyOrder": 18
                        },
                        "ipv4": {
                            "title": "IPv4",
                            "oneOf": [
                                {"$ref": "#/definitions/nm_ipv4_auto"},
                                {"$ref": "#/definitions/nm_ipv4_manual"},
                                {
                                    "title": "Shared to other computers",
                                    "$ref": "#/definitions/nm_ipv4_shared"
                                }
                            ],
                            "propertyOrder": 4,
                            "options": {
                                "keep_oneof_values": false
                            }
                        }
                    },
                    "required": ["type", "ipv4"],
                    "options": {
                        "disable_edit_json": true,
                        "disable_properties": true,
                        "wb": {
                            "disable_panel": true,
                            "icon": "ethernet"
                        }
                    }
                },
                {
                    "$ref": "#/definitions/nm_connection"
                }
            ]
        },
        "nm_wifi": {
            "title": "Wi-Fi",
            "allOf": [
                {
                    "type": "object",
                    "properties": {
                        "802-11-wireless_mode": {
                            "type": "string",
                            "enum": ["infrastructure"],
                            "options": {
                                "hidden": true
                            }
                        },
                        "type": {
                            "type": "string",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["03_nm_wifi"]
                        },
                        "802-11-wireless_ssid": {
                            "type": "string",
                            "title": "Network name (SSID)",
                            "propertyOrder": 4,
                            "minLength": 1,
                            "watch": {
                                "ssids": "data.ssids"
                            },
                            "enumSource": [
                                {
                                    "source": "ssids"
                                }
                            ],
                            "_format": "edWb"
                        },
                        "802-11-wireless-security": {
                            "$ref": "#/definitions/802-11-wireless-security",
                            "propertyOrder": 5
                        },
                        "ipv4": {
                            "title": "IPv4",
                            "oneOf": [
                                {"$ref": "#/definitions/nm_ipv4_auto"},
                                {"$ref": "#/definitions/nm_ipv4_manual"}
                            ],
                            "propertyOrder": 7,
                            "options": {
                                "keep_oneof_values": false
                            }
                        },
                        "connection_interface-name": {
                            "type": "string",
                            "title": "Only for interface",
                            "propertyOrder": 8,
                            "options": {
                                "inputAttributes": {
                                    "placeholder":  "use with any suitable interface"
                                },
                                "wb": {
                                    "show_editor": true
                                }
                            },
                            "watch": {
                                "devices": "data.devices"
                            },
                            "enumSource": [
                                {
                                    "source": "devices",
                                    "filter": "{{if item.type == \"wifi\"}}1{{endif}}",
                                    "title": "{{item.iface}}",
                                    "value": "{{item.iface}}"
                                }
                            ],
                            "_format": "edWb"
                        },
                        "802-11-wireless_mtu": {
                            "$ref": "#/definitions/mtu",
                            "propertyOrder": 10
                        }
                    },
                    "required": ["type", "802-11-wireless_ssid", "802-11-wireless_mode", "802-11-wireless-security", "ipv4"]
                },
                {
                    "$ref": "#/definitions/nm_connection"
                }
            ],
            "options": {
                "disable_edit_json": true,
                "disable_properties": true,
                "wb": {
                    "disable_panel": true,
                    "icon": "wifi"
                }
            }
        },
        "nm_wifi_ap": {
            "title": "Wi-Fi access point",
            "allOf": [
                {
                    "type": "object",
                    "properties": {
                        "802-11-wireless_mode": {
                            "type": "string",
                            "enum": ["ap"],
                            "options": {
                                "hidden": true
                            }
                        },
                        "type": {
                            "type": "string",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["04_nm_wifi_ap"]
                        },
                        "802-11-wireless_ssid": {
                            "type": "string",
                            "title": "Network name (SSID)",
                            "propertyOrder": 4,
                            "minLength": 1
                        },
                        "802-11-wireless-security": {
                            "$ref": "#/definitions/802-11-wireless-security",
                            "propertyOrder": 5
                        },
                        "nat": {
                            "title": "Share Internet connection",
                            "type": "boolean",
                            "default": true,
                            "_format": "checkbox",
                            "propertyOrder": 6
                        },
                        "ipv4": {
                            "title": "IPv4",
                            "$ref": "#/definitions/nm_ipv4_shared",
                            "propertyOrder": 7
                        },
                        "connection_interface-name": {
                            "type": "string",
                            "title": "Only for interface",
                            "propertyOrder": 8,
                            "options": {
                                "inputAttributes": {
                                    "placeholder":  "use with any suitable interface"
                                },
                                "wb": {
                                    "show_editor": true
                                }
                            },
                            "watch": {
                                "devices": "data.devices"
                            },
                            "enumSource": [
                                {
                                    "source": "devices",
                                    "filter": "{{if item.type == \"wifi\"}}1{{endif}}",
                                    "title": "{{item.iface}}",
                                    "value": "{{item.iface}}"
                                }
                            ],
                            "_format": "edWb"
                        },
                        "802-11-wireless_mtu": {
                            "$ref": "#/definitions/mtu",
                            "propertyOrder": 10
                        }
                    },
                    "required": ["type", "nat", "802-11-wireless_ssid", "802-11-wireless-security", "ipv4"]
                },
                {
                    "$ref": "#/definitions/nm_connection"
                }
            ],
            "options": {
                "disable_edit_json": true,
                "disable_properties": true,
                "wb": {
                    "disable_panel": true,
                    "icon": "wifi"
                }
            }
        },
        "nm_modem": {
            "title": "Modem",
            "allOf":[
                {
                    "type": "object",
                    "properties": {
                        "type": {
                            "type": "string",
                            "options": {
                                "hidden": true
                            },
                            "enum": ["02_nm_modem"]
                        },
                        "gsm_apn": {
                            "type": "string",
                            "title": "APN",
                            "propertyOrder": 4,
                            "options": {
                                "inputAttributes": {
                                    "placeholder":  "gsm_auto-config_title"
                                }
                            }
                        },
                        "ipv4": {
                            "title": "IPv4",
                            "oneOf": [
                                {"$ref": "#/definitions/nm_ipv4_auto"},
                                {"$ref": "#/definitions/nm_ipv4_manual"}
                            ],
                            "propertyOrder": 5,
                            "options": {
                                "keep_oneof_values": false
                            }
                        },
                        "gsm_sim-slot": {
                            "type": "integer",
                            "title": "Only for SIM slot",
                            "enum": [1, 2],
                            "default": 1,
                            "propertyOrder": 6,
                            "options": {
                                "inputAttributes": {
                                    "placeholder":  "any SIM-slot"
                                },
                                "show_opt_in": true
                            }
                        },
                        "connection_interface-name": {
                            "type": "string",
                            "title": "Only for device",
                            "propertyOrder": 7,
                            "options": {
                                "inputAttributes": {
                                    "placeholder":  "use with any suitable device"
                                },
                                "wb": {
                                    "show_editor": true
                                }
                            },
                            "watch": {
                                "devices": "data.devices"
                            },
                            "enumSource": [
                                {
                                    "source": "devices",
                                    "filter": "{{if item.type == \"modem\"}}1{{endif}}",
                                    "title": "{{item.iface}}",
                                    "value": "{{item.iface}}"
                                }
                            ],
                            "_format": "edWb"
                        }
                    },
                    "required": ["type", "gsm_apn", "ipv4"]
                },
                {
                    "$ref": "#/definitions/nm_connection"
                }
            ],
            "options": {
                "disable_edit_json": true,
                "disable_properties": true,
                "wb": {
                    "disable_panel": true,
                    "icon": "modem"
                }
            }
        },
        "nm_connection": {
            "properties": {
                "connection_id": {
                    "type": "string",
                    "minLength": 1,
                    "propertyOrder": 1,
                    "options": {
                        "hidden": true
                    }
                },
                "connection_autoconnect": {
                    "type": "boolean",
                    "default": true,
                    "title": "Autoconnect",
                    "_format": "checkbox",
                    "propertyOrder": 2
                },
                "connection_uuid": {
                    "type": "string",
                    "options": {
                        "hidden": true
                    },
                    "default": ""
                }
            },
            "required": ["connection_autoconnect", "connection_id", "connection_uuid"]
        },
        "nm_ipv4_manual": {
            "type": "object",
            "title": "Static IP",
            "properties": {
                "method": {
                    "type": "string",
                    "title": "IPv4 method",
                    "options": {
                        "hidden": true
                    },
                    "enum": ["manual"]
                },
                "address": {
                    "type": "string",
                    "title": "IP address",
                    "format": "ipv4",
                    "propertyOrder": 11
                },
                "netmask": {
                    "type": "string",
                    "title": "Network mask",
                    "format": "ipv4",
                    "propertyOrder": 12,
                    "options": {
                        "show_opt_in": true,
                        "inputAttributes": {
                            "placeholder":  "255.255.255.0"
                        }
                    }
                },
                "gateway": {
                    "type": "string",
                    "title": "Default gateway",
                    "format": "ipv4",
                    "propertyOrder": 14,
                    "options": {
                        "show_opt_in": true
                    }
                },
                "route-metric": {
                    "type": "integer",
                    "title": "Routing metric for default gateway",
                    "propertyOrder": 15,
                    "options": {
                        "show_opt_in": true,
                        "inputAttributes": {
                            "placeholder":  " "
                        }
                    }
                },
                "dns": {
                    "type": "string",
                    "title": "DNS servers",
                    "description": "Comma-separated list of IP addresses",
                    "propertyOrder": 16,
                    "options": {
                        "show_opt_in": true
                    }
                },
                "dns-search": {
                    "type": "string",
                    "title": "DNS search domains",
                    "description": "Comma-separated list of domains",
                    "propertyOrder": 17,
                    "options": {
                        "show_opt_in": true
                    }
                }
            },
            "required": ["method", "address"],
            "options": {
                "disable_collapse": true,
                "disable_properties": true,
                "disable_edit_json": true
            }
        },
        "nm_ipv4_auto": {
            "type": "object",
            "title": "DHCP",
            "properties": {
                "method": {
                    "type": "string",
                    "title": "IPv4 method",
                    "options": {
                        "hidden": true
                    },
                    "enum": ["auto"]
                },
                "dhcp-hostname": {
                    "type": "string",
                    "title": "Hostname to be requested",
                    "propertyOrder": 12,
                    "options": {
                        "show_opt_in": true
                    }
                },
                "dhcp-client-id": {
                    "type": "string",
                    "title": "Client identifier",
                    "propertyOrder": 13,
                    "options": {
                        "show_opt_in": true
                    }
                },
                "route-metric": {
                    "type": "integer",
                    "title": "Routing metric for default gateway",
                    "propertyOrder": 15,
                    "options": {
                        "show_opt_in": true,
                        "inputAttributes": {
                            "placeholder":  " "
                        }
                    }
                },
                "dns": {
                    "type": "string",
                    "title": "DNS servers",
                    "description": "Comma-separated list of IP addresses",
                    "propertyOrder": 16,
                    "options": {
                        "show_opt_in": true
                    }
                },
                "dns-search": {
                    "type": "string",
                    "title": "DNS search domains",
                    "description": "Comma-separated list of domains",
                    "propertyOrder": 17,
                    "options": {
                        "show_opt_in": true
                    }
                }
            },
            "required": ["method"],
            "options": {
                "disable_collapse": true,
                "disable_properties": true,
                "disable_edit_json": true
            }
        },
        "nm_ipv4_shared": {
            "type": "object",
            "properties": {
                "method": {
                    "type": "string",
                    "title": "IPv4 method",
                    "options": {
                        "hidden": true
                    },
                    "enum": ["shared"]
                },
                "address": {
                    "type": "string",
                    "title": "IP address",
                    "format": "ipv4",
                    "propertyOrder": 11,
                    "options": {
                        "inputAttributes": {
                            "placeholder":  "10.42.x.0"
                        },
                        "show_opt_in": true
                    }
                },
                "netmask": {
                    "type": "string",
                    "title": "Network mask",
                    "format": "ipv4",
                    "propertyOrder": 12,
                    "options": {
                        "show_opt_in": true,
                        "inputAttributes": {
                            "placeholder":  "255.255.255.0"
                        }
                    }
                },
                "route-metric": {
                    "type": "integer",
                    "title": "Routing metric for default gateway",
                    "propertyOrder": 15,
                    "options": {
                        "show_opt_in": true,
                        "inputAttributes": {
                            "placeholder":  " "
                        }
                    }
                }
            },
            "required": ["method"],
            "options": {
                "disable_collapse": true,
                "disable_properties": true,
                "disable_edit_json": true
            }
        }
    },
    "properties": {
        "ui": {
            "type": "object",
            "properties": {
                "connections": {
                    "type": "array",
                    "title": "Network connections",
                    "items": {
                        "title": "connection_title",
                        "headerTemplate": "{{self.name}}{{self.connection_id]}}",
                        "oneOf": [
                            { "$ref": "#/definitions/nm_ethernet" },
                            { "$ref": "#/definitions/nm_wifi" },
                            { "$ref": "#/definitions/nm_wifi_ap" },
                            { "$ref": "#/definitions/nm_modem" },
                            { "$ref": "#/definitions/old_loopback" },
                            { "$ref": "#/definitions/old_static" },
                            { "$ref": "#/definitions/old_dhcp" },
                            { "$ref": "#/definitions/old_ppp" },
                            { "$ref": "#/definitions/old_can" },
                            { "$ref": "#/definitions/old_manual" }
                        ],
                        "options": {
                            "keep_oneof_values": false,
                            "disable_collapse": true
                        },
                        "_format": "wb-multiple"
                    },
                    "propertyOrder": 1,
                    "options": {
                        "array_controls_top": true,
                        "disable_array_delete_last_row": true,
                        "disable_array_reorder": true,
                        "disable_collapse": true,
                        "disable_array_delete_all_rows": true,
                        "wb": {
                            "select_label": "Choose connection type",
                            "sort_by_property": "type"
                        }
                    },
                    "_format": "wb-array"
                },
                "con_switch": {
                    "title": "Automatic connections switching",
                    "type": "object",
                    "propertyOrder": 2,
                    "description": "con_switch_desc",
                    "properties": {
                        "tiers": {
                            "type": "object",
                            "title": "Connection Tiers",
                            "propertyOrder": 1,
                            "options": {
                                "wb": {
                                    "show_editor": true
                                }
                            },
                            "properties": {
                                "high": {
                                    "title": "High-priority connections",
                                    "type": "array",
                                    "uniqueItems": true,
                                    "propertyOrder": 1,
                                    "items": {
                                        "$ref": "#/definitions/switch_connections"
                                    },
                                    "options": {
                                        "disable_collapse": true,
                                        "disable_array_delete_last_row": true,
                                        "array_controls_top": true,
                                        "wb": {
                                            "show_editor": true
                                        }
                                    },
                                    "_format": "table"
                                },
                                "medium": {
                                    "title": "Medium-priority connections",
                                    "type": "array",
                                    "uniqueItems": true,
                                    "propertyOrder": 2,
                                    "items": {
                                        "$ref": "#/definitions/switch_connections"
                                    },
                                    "options": {
                                        "disable_collapse": true,
                                        "disable_array_delete_last_row": true,
                                        "array_controls_top": true,
                                        "wb": {
                                            "show_editor": true
                                        }
                                    },
                                    "_format": "table"
                                },
                                "low": {
                                    "title": "Low-priority connections",
                                    "type": "array",
                                    "uniqueItems": true,
                                    "propertyOrder": 3,
                                    "items": {
                                        "$ref": "#/definitions/switch_connections"
                                    },
                                    "options": {
                                        "disable_collapse": true,
                                        "disable_array_delete_last_row": true,
                                        "array_controls_top": true,
                                        "wb": {
                                            "show_editor": true
                                        }
                                    },
                                    "_format": "table"
                                }
                            }
                        },
                        "debug": {
                            "title": "Enable debug logging",
                            "type": "boolean",
                            "propertyOrder": 2,
                            "_format": "checkbox",
                            "default": false,
                            "options": {
                                "wb": {
                                    "show_editor": true
                                }
                            }
                        },
                        "sticky_connection_period_s": {
                            "title": "Deny GSM/Wi-Fi connections switching period (seconds)",
                            "description": "After successfully establishing a modem/Wi-Fi connection, do not try changing SIM slot or change to another Wi-Fi network for this amount of seconds",
                            "type": "integer",
                            "propertyOrder": 3,
                            "default": 900,
                            "minimum": 0,
                            "options": {
                                "wb": {
                                    "show_editor": true
                                }
                            }
                        },
                        "connectivity_check_url": {
                            "title": "Connectivity Check URL",
                            "description": "URL address used to check connection's network connectivity and absense of captive portals",
                            "type": "string",
                            "propertyOrder": 4,
                            "minLength": 8,
                            "options": {
                                "show_opt_in": true,
                                "wb": {
                                    "show_editor": true
                                }
                            }
                        },
                        "connectivity_check_payload": {
                            "title": "Connectivity Check Payload",
                            "description": "Connectivity check response content should contain specified string",
                            "type": "string",
                            "propertyOrder": 5,
                            "minLength": 1,
                            "options": {
                                "show_opt_in": true,
                                "wb": {
                                    "show_editor": true
                                }
                            }
                        }
                    },
                    "options": {
                        "compact": true,
                        "wb": {
                            "disable_title": true
                        }
                    }
                }
            },
            "_format": "categories",
            "required": ["connections"],
            "options": {
                "wb": {
                    "disable_title": true
                }
            }
        },
        "data": {
            "type": "object",
            "properties": {
                "ssids": {
                    "type": "array"
                },
                "devices": {
                    "type": "array"
                }
            },
            "options": {
                "hidden": true
            }
        }
    },
    "required": ["ui"],
    "options": {
        "wb": {
            "disable_title": true
        }
    },

    "translations": {
        "en": {
            "connection_title": "Connection",
            "gsm_auto-config_title": "define APN according to information from SIM-card",
            "con_switch_desc": "The controller checks the connection with the Internet every 5 seconds, if there is no connection, the current connection will down and the next one in the list will be activated. Further, every 60 seconds the controller will try to up one of the connections with a higher priority and, if it succeeds, will switch to it.",
            "mac-pattern-message": "Must be six hexadecimal byte values divided by colon (example f2:c8:14:48:d3:97)",
            "interfaces_description": "Configured in /etc/network/interfaces",
            "old_interface_deprecated_description": "Management via NetworkManager is available - this is a modern configuration service, support for which is currently being developed in Wiren Board. To switch to NetworkManager, <b>remove this connection</b> and use a pre-defined one (or create a new connection from scratch)",
            "loopback_deprecated_description": "Manual loopback definitions <b>should be removed</b>, systemd handles loopback automatically"
        },
        "ru": {
            "Network connections": " ",
            "Autoconnect": " ",
            "Auto": " ",
            "Name": " ",
            "Allow hotplug": "  ",
            "Pre-up command": "   ",
            "Up command": "  ",
            "Post-up command": "   ",
            "Down command": "  ",
            "Pre-down command": "   ",
            "Post-down command": "   ",
            "Loopback interface": "Loopback-",
            "name": "",
            "Static IP": " IP-",
            "IP address": "IP-",
            "Network mask": " ",
            "Broadcast address": " ",
            "Default gateway": " ",
            "Routing metric for default gateway": "  ",
            "MAC address": "MAC-",
            "Address validity scope": "  ",
            "global": "",
            "link": "",
            "host": "",
            "address": "",
            "netmask": " ",
            "gateway": "",
            "auto": "",
            "Mode": "",
            "Method": "",
            "Options": "",
            "Hostname to be requested": " ",
            "Client identifier": " ",
            "Bitrate": "  (/)",
            "allow-hotplug": " ",
            "Provider name": " ",
            "PPP unit number": "  PPP",
            "Additional options": " ",
            "Manual": "",
            "Point-to-point address": "  ",
            "For point-to-point configuration": "   -",
            "Refers to the file in /etc/ppp/peers": "      /etc/ppp/peers",
            "interfaces_description": "  /etc/network/interfaces",
            "old_interface_deprecated_description": "   NetworkManager -    ,      Wiren Board.    NetworkManager <b>  </b>       (  ,  )",
            "loopback_deprecated_description": "  loopback- <b> </b>, systemd  loopback ",
            "Interface": " ",
            "connection_title": "",
            "gsm_auto-config_title": " APN       SIM-",
            "Connection name": " ",
            "Only for SIM slot": "  SIM-",
            "Only for device": "  ",
            "Only for interface": "  ",
            "Modem": "",
            "use with any suitable device": "   ",
            "use with any suitable interface": "   ",
            "any SIM-slot": "  SIM-",
            "Choose connection type": "  ",
            "Automatic connections switching": "  ",
            "con_switch_desc": "  5     ,       ,      .    60           ,   ,   .",
            "Enable debug logging": "  ",
            "Wi-Fi access point": "Wi-Fi  ",
            "mac-pattern-message": "      ,   ( f2:c8:14:48:d3:97)",
            "Password": "",
            "Security": "",
            "Network name (SSID)": "  (SSID)",
            "None": "",
            "Shared to other computers": "   ",
            "Type": "",
            "Share Internet connection": "   ",
            "Deny GSM/Wi-Fi connections switching period (seconds)": "  SIM-  Wi-Fi-     ()",
            "After successfully establishing a modem/Wi-Fi connection, do not try changing SIM slot or change to another Wi-Fi network for this amount of seconds": "      Wi-Fi,    SIM-  Wi-Fi-         ",
            "DNS servers": "DNS-",
            "DNS search domains": "DNS- ",
            "Comma-separated list of IP addresses": " IP-,  ",
            "Comma-separated list of domains": " ,  ",
            "Connection Tiers": "  ",
            "High-priority connections": "   ",
            "Medium-priority connections": "   ",
            "Low-priority connections": "   "
        }
    }
}
